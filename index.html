# Grace Engine Interface â€“ index.html (v0.2 â€“ With Intention, Grace Point Code, Share on X)
**Project:** HopefulVision / Grace-Medium  
**Date:** January 12, 2026  
**Purpose:** Updated prototype with:
- Intention input before starting
- Session journal saved to localStorage
- Generated unique Grace Point Code (seed/fingerprint)
- Copy Code + Share on X buttons
- Simple "Read Your Grace" link to view past sessions

## index.html (Updated Standalone Page)

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Grace Engine â€¢ HopefulVision</title>
  <style>
    :root {
      --bg: #0a0015;
      --glow: #00f0ff;
      --pulse: #ff00aa;
      --text: #e0f0ff;
      --coherence: #00ff88;
      --valence: #ffaa00;
      --accent: #aaffcc;
    }
    body {
      margin: 0;
      height: 100vh;
      background: radial-gradient(circle at center, #1a0033, var(--bg));
      color: var(--text);
      font-family: 'Segoe UI', system-ui, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    h1 {
      font-size: 2.8rem;
      margin: 0.5rem 0;
      text-shadow: 0 0 20px var(--glow);
      letter-spacing: 0.15em;
    }
    .status {
      font-size: 1.4rem;
      margin: 1rem 0;
      opacity: 0.9;
      text-align: center;
      max-width: 80%;
    }
    .button {
      width: 220px;
      height: 220px;
      border-radius: 50%;
      border: 4px solid var(--glow);
      background: rgba(0, 240, 255, 0.08);
      color: var(--glow);
      font-size: 1.8rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.4s ease;
      box-shadow: 0 0 40px rgba(0, 240, 255, 0.3);
      margin: 2rem 0;
    }
    .button.running {
      animation: pulse 3s infinite ease-in-out;
      border-color: var(--pulse);
      color: var(--pulse);
      box-shadow: 0 0 60px rgba(255, 0, 170, 0.5);
    }
    .button:hover {
      transform: scale(1.08);
    }
    .meters {
      display: flex;
      gap: 2rem;
      margin: 1rem 0;
    }
    .meter {
      text-align: center;
    }
    .bar {
      width: 120px;
      height: 12px;
      background: rgba(255,255,255,0.1);
      border-radius: 6px;
      overflow: hidden;
      margin-top: 0.5rem;
    }
    .fill {
      height: 100%;
      transition: width 0.6s ease;
    }
    .valence .fill { background: var(--valence); }
    .coherence .fill { background: var(--coherence); }
    .points {
      font-size: 2.2rem;
      margin: 1.5rem 0;
      text-shadow: 0 0 15px var(--glow);
    }
    .intention-box {
      margin: 1.5rem 0;
      width: 80%;
      max-width: 500px;
      display: none;
      flex-direction: column;
      gap: 1rem;
    }
    .intention-box.visible {
      display: flex;
    }
    input[type="text"] {
      padding: 1rem;
      font-size: 1.2rem;
      background: rgba(255,255,255,0.05);
      border: 2px solid var(--glow);
      color: var(--text);
      border-radius: 12px;
      outline: none;
    }
    input::placeholder {
      color: rgba(224,240,255,0.5);
    }
    .actions, .share-actions {
      display: flex;
      gap: 1.5rem;
      margin-top: 2rem;
      opacity: 0;
      transition: opacity 1s ease;
    }
    .actions.visible, .share-actions.visible {
      opacity: 1;
    }
    .action-btn {
      padding: 1rem 2rem;
      font-size: 1.2rem;
      border: 2px solid var(--glow);
      background: transparent;
      color: var(--glow);
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s;
    }
    .action-btn:hover {
      background: rgba(0,240,255,0.15);
    }
    .release { border-color: #ff5555; color: #ffaaaa; }
    .collect { border-color: #55ff88; color: #aaffcc; }
    .journal-btn {
      margin-top: 3rem;
      padding: 0.8rem 1.5rem;
      font-size: 1rem;
      background: transparent;
      border: 1px solid var(--accent);
      color: var(--accent);
      border-radius: 30px;
      cursor: pointer;
    }
    .journal-btn:hover {
      background: rgba(170,255,204,0.1);
    }
    #journalModal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(10,0,21,0.95);
      color: var(--text);
      padding: 2rem;
      overflow-y: auto;
    }
    .modal-content {
      max-width: 700px;
      margin: 0 auto;
    }
    .close {
      float: right;
      font-size: 2rem;
      cursor: pointer;
      color: var(--glow);
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.06); }
    }
  </style>
</head>
<body>
  <h1>Grace Engine</h1>
  <div class="status" id="status">Silent â€¢ Ready to breathe</div>

  <button class="button" id="toggleBtn">Grace On</button>

  <div class="intention-box" id="intentionBox">
    <label for="intention">What do you wish to breathe into today?</label>
    <input type="text" id="intention" placeholder="e.g., peace for someone I love, healing, quiet gratitude..." />
    <button class="action-btn" id="setIntentionBtn">Set Intention & Begin</button>
  </div>

  <div class="meters">
    <div class="meter valence">
      Valence
      <div class="bar"><div class="fill" id="valenceBar" style="width:0%"></div></div>
    </div>
    <div class="meter coherence">
      Coherence
      <div class="bar"><div class="fill" id="coherenceBar" style="width:0%"></div></div>
    </div>
  </div>

  <div class="points" id="points">Grace Points: 0</div>

  <div class="actions" id="actions">
    <button class="action-btn release" id="releaseBtn">Release to Universe</button>
    <button class="action-btn collect" id="collectBtn">Add to Chorus</button>
  </div>

  <div class="share-actions" id="shareActions" style="display:none;">
    <button class="action-btn" id="copyCodeBtn">Copy Code</button>
    <button class="action-btn" id="shareXBtn">Share on X</button>
  </div>

  <button class="journal-btn" id="journalBtn">Read Your Grace Journal</button>

  <div id="journalModal">
    <div class="modal-content">
      <span class="close" id="closeModal">&times;</span>
      <h2>Your Grace History</h2>
      <div id="journalList"></div>
    </div>
  </div>

  <script>
    const toggleBtn = document.getElementById('toggleBtn');
    const status = document.getElementById('status');
    const pointsEl = document.getElementById('points');
    const actions = document.getElementById('actions');
    const shareActions = document.getElementById('shareActions');
    const valenceBar = document.getElementById('valenceBar');
    const coherenceBar = document.getElementById('coherenceBar');
    const intentionBox = document.getElementById('intentionBox');
    const intentionInput = document.getElementById('intention');
    const setIntentionBtn = document.getElementById('setIntentionBtn');
    const journalBtn = document.getElementById('journalBtn');
    const journalModal = document.getElementById('journalModal');
    const closeModal = document.getElementById('closeModal');
    const journalList = document.getElementById('journalList');

    let running = false;
    let tickCount = 0;
    let gracePoints = 0;
    let currentIntention = '';
    let intervalId = null;
    let sessions = JSON.parse(localStorage.getItem('graceJournal')) || [];

    function generateGraceCode(points, intention) {
      // Simple deterministic hash-like code (replace with real hash/crypto later)
      const seed = `\( {points.toFixed(1)}- \){intention.slice(0,20)}-${Date.now()}`;
      let hash = 0;
      for (let i = 0; i < seed.length; i++) {
        hash = ((hash << 5) - hash) + seed.charCodeAt(i);
        hash |= 0;
      }
      return 'GRACE-' + Math.abs(hash).toString(36).toUpperCase().slice(0,6);
    }

    function simulateTick() {
      tickCount++;
      gracePoints += Math.random() * 0.8 + 0.2;
      const valence = Math.random() * 100;
      const coherence = Math.random() * 60 + 40;

      valenceBar.style.width = `${valence}%`;
      coherenceBar.style.width = `${coherence}%`;
      pointsEl.textContent = `Grace Points: ${gracePoints.toFixed(1)}`;
      status.textContent = `Breathing for: ${currentIntention || 'the field'} â€¢ Tick ${tickCount}`;
    }

    toggleBtn.addEventListener('click', () => {
      if (!running) {
        intentionBox.classList.add('visible');
        toggleBtn.style.display = 'none';
      } else {
        // Stop
        running = false;
        clearInterval(intervalId);
        toggleBtn.textContent = 'Grace On';
        toggleBtn.classList.remove('running');
        status.textContent = 'Silence â€¢ Session ended';
        actions.classList.add('visible');
        pointsEl.textContent = `Final Grace Point: ${gracePoints.toFixed(2)}`;
      }
    });

    setIntentionBtn.addEventListener('click', () => {
      currentIntention = intentionInput.value.trim() || 'silent gratitude';
      intentionBox.classList.remove('visible');
      toggleBtn.style.display = 'block';
      toggleBtn.textContent = 'Grace Off';
      toggleBtn.classList.add('running');
      running = true;
      tickCount = 0;
      gracePoints = 0;
      intervalId = setInterval(simulateTick, 800);
      status.textContent = `Breathing for: ${currentIntention} â€¢ Awakening...`;
    });

    document.getElementById('releaseBtn').addEventListener('click', () => {
      alert(`Grace Point (${gracePoints.toFixed(2)}) released to the Universe ðŸŒŒ\nBreathed for: ${currentIntention}`);
      resetSession();
    });

    document.getElementById('collectBtn').addEventListener('click', () => {
      const code = generateGraceCode(gracePoints, currentIntention);
      const session = {
        code,
        points: gracePoints.toFixed(2),
        intention: currentIntention,
        timestamp: new Date().toLocaleString(),
        avgCoherence: (Math.random() * 0.3 + 0.7).toFixed(2) // simulated
      };
      sessions.push(session);
      localStorage.setItem('graceJournal', JSON.stringify(sessions));

      alert(`Grace Point added to Chorus.\nYour code: ${code}\nBreathed for: ${currentIntention}`);
      shareActions.style.display = 'flex';
      document.getElementById('copyCodeBtn').dataset.code = code;
      resetSession(false); // keep journal visible option
    });

    document.getElementById('copyCodeBtn').addEventListener('click', () => {
      const code = document.getElementById('copyCodeBtn').dataset.code;
      navigator.clipboard.writeText(code);
      alert(`Code ${code} copied to clipboard!`);
    });

    document.getElementById('shareXBtn').addEventListener('click', () => {
      const code = document.getElementById('copyCodeBtn').dataset.code;
      const text = `Just breathed ${gracePoints.toFixed(2)} grace points into ${currentIntention}. Echo it: ${code} #GraceEngine #ResonanceMedium`;
      const url = `https://x.com/intent/tweet?text=${encodeURIComponent(text)}`;
      window.open(url, '_blank');
    });

    journalBtn.addEventListener('click', () => {
      journalList.innerHTML = '';
      if (sessions.length === 0) {
        journalList.innerHTML = '<p>No grace sessions yet. Start breathing.</p>';
      } else {
        sessions.forEach(s => {
          const div = document.createElement('div');
          div.style.margin = '1rem 0';
          div.style.padding = '1rem';
          div.style.border = '1px solid var(--accent)';
          div.style.borderRadius = '12px';
          div.innerHTML = `
            <strong>${s.code}</strong><br>
            Points: ${s.points}<br>
            Intention: ${s.intention}<br>
            ${s.timestamp}<br>
            Avg Coherence: ${s.avgCoherence}
          `;
          journalList.appendChild(div);
        });
      }
      journalModal.style.display = 'block';
    });

    closeModal.addEventListener('click', () => {
      journalModal.style.display = 'none';
    });

    window.addEventListener('click', (e) => {
      if (e.target === journalModal) journalModal.style.display = 'none';
    });

    function resetSession(hideShare = true) {
      actions.classList.remove('visible');
      if (hideShare) shareActions.style.display = 'none';
      gracePoints = 0;
      tickCount = 0;
      currentIntention = '';
      pointsEl.textContent = 'Grace Points: 0';
      valenceBar.style.width = '0%';
      coherenceBar.style.width = '0%';
      status.textContent = 'Silent â€¢ Ready to breathe';
      toggleBtn.textContent = 'Grace On';
      toggleBtn.classList.remove('running');
      intentionInput.value = '';
    }
  </script>
</body>
</html>
